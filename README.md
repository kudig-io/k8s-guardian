# k8s-guardian

ä¸€ä¸ªé«˜è´¨é‡çš„å¼€æº Kubernetes è¿ç»´å·¥å…·ï¼Œæä¾›å‘½ä»¤è¡Œå¯è§†åŒ–ç•Œé¢å’Œ AI æ™ºèƒ½è¾…åŠ©åŠŸèƒ½ã€‚

## é¡¹ç›®ç®€ä»‹

k8s-guardian æ˜¯ä¸€æ¬¾ä¸“ä¸º Kubernetes é›†ç¾¤è¿ç»´è®¾è®¡çš„ç°ä»£åŒ–å‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡ç›´è§‚çš„å¯è§†åŒ–ç•Œé¢å’Œæ™ºèƒ½ AI åŠ©æ‰‹ï¼Œå¸®åŠ©è¿ç»´äººå‘˜é«˜æ•ˆç®¡ç†å’Œç›‘æ§ Kubernetes é›†ç¾¤ã€‚è¯¥å·¥å…·é›†æˆäº†ä¸°å¯Œçš„è¿ç»´åŠŸèƒ½ï¼ŒåŒ…æ‹¬é›†ç¾¤ç›‘æ§ã€èµ„æºç®¡ç†ã€æ—¥å¿—åˆ†æã€äº‹ä»¶å‘Šè­¦ã€å¤‡ä»½æ¢å¤ç­‰ï¼Œä¸º Kubernetes è¿ç»´æä¾›ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ–¥ï¸ å¯è§†åŒ–äº¤äº’ç•Œé¢
- **ç»ˆç«¯å¯è§†åŒ–æ§åˆ¶å°**ï¼šåŸºäº blessed åº“æ„å»ºçš„ç°ä»£åŒ–ç»ˆç«¯ UIï¼Œæä¾›ç±»ä¼¼æµè§ˆå™¨æ§åˆ¶å°çš„äº¤äº’ä½“éªŒ
- **å®æ—¶æ•°æ®å±•ç¤º**ï¼šå®æ—¶æ˜¾ç¤ºé›†ç¾¤çŠ¶æ€ã€èµ„æºä½¿ç”¨æƒ…å†µå’Œ Pod ä¿¡æ¯
- **å¤šé¢æ¿å¸ƒå±€**ï¼šé›†ç¾¤ä¿¡æ¯ã€èµ„æºä½¿ç”¨ã€Pod åˆ—è¡¨ç­‰å…³é”®ä¿¡æ¯ä¸€ç›®äº†ç„¶

### ğŸ”— Kubernetes é›†ç¾¤ç®¡ç†
- **å¤šé›†ç¾¤æ”¯æŒ**ï¼šæ”¯æŒç®¡ç†å’Œåˆ‡æ¢å¤šä¸ª Kubernetes é›†ç¾¤
- **æ ‡å‡† kubeconfig**ï¼šå…¼å®¹æ ‡å‡† kubeconfig é…ç½®æ–‡ä»¶
- **å…¨é¢çš„èµ„æºç®¡ç†**ï¼šæ”¯æŒ Podã€Deploymentã€Serviceã€ConfigMapã€Secretã€Ingress ç­‰æ ¸å¿ƒèµ„æº

### ğŸ¤– AI æ™ºèƒ½è¿ç»´åŠ©æ‰‹
- **å¤šè½®å¯¹è¯**ï¼šæ”¯æŒä¸ AI åŠ©æ‰‹è¿›è¡Œå¤šè½®å¯¹è¯ï¼Œè·å–ä¸“ä¸šçš„è¿ç»´å»ºè®®
- **æ™ºèƒ½è¯Šæ–­**ï¼šAI åŠ©æ‰‹èƒ½å¤Ÿåˆ†æé›†ç¾¤é—®é¢˜å¹¶æä¾›è§£å†³æ–¹æ¡ˆ
- **æ“ä½œæŒ‡å¯¼**ï¼šæä¾›è¯¦ç»†çš„ Kubernetes æ“ä½œæŒ‡å¯¼å’Œæœ€ä½³å®è·µå»ºè®®

### ğŸ“Š ç›‘æ§ä¸åˆ†æ
- **é›†ç¾¤å¥åº·æ£€æŸ¥**ï¼šå…¨é¢æ£€æŸ¥èŠ‚ç‚¹å’Œ Pod çš„å¥åº·çŠ¶æ€
- **èµ„æºä½¿ç”¨åˆ†æ**ï¼šå®æ—¶ç›‘æ§ CPU å’Œå†…å­˜ä½¿ç”¨æƒ…å†µ
- **æ—¥å¿—åˆ†æ**ï¼šè‡ªåŠ¨åˆ†æ Pod æ—¥å¿—ï¼Œè¯†åˆ«é”™è¯¯å’Œè­¦å‘Š
- **äº‹ä»¶ç›‘æ§**ï¼šå®æ—¶ç›‘æ§é›†ç¾¤äº‹ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆå‘Šè­¦

### ğŸ›¡ï¸ å®‰å…¨ä¸æƒé™
- **RBAC åˆ†æ**ï¼šå…¨é¢åˆ†æ Roleã€ClusterRoleã€RoleBindingã€ClusterRoleBinding é…ç½®
- **æƒé™å®¡è®¡**ï¼šæä¾›è¯¦ç»†çš„æƒé™åˆ†é…å’Œä½¿ç”¨æƒ…å†µåˆ†æ

### ğŸ’¾ å¤‡ä»½ä¸æ¢å¤
- **é›†ç¾¤å¤‡ä»½**ï¼šæ”¯æŒå¤‡ä»½é›†ç¾¤é…ç½®å’Œèµ„æº
- **ä¸€é”®æ¢å¤**ï¼šå¿«é€Ÿæ¢å¤é›†ç¾¤åˆ°å¤‡ä»½çŠ¶æ€
- **å¤‡ä»½ç®¡ç†**ï¼šæŸ¥çœ‹å’Œç®¡ç†å†å²å¤‡ä»½

### ğŸŒ ç½‘ç»œä¸å­˜å‚¨
- **ç½‘ç»œç­–ç•¥åˆ†æ**ï¼šåˆ†æ NetworkPolicy å’Œ Ingress é…ç½®
- **å­˜å‚¨ç®¡ç†**ï¼šç®¡ç† PersistentVolumeã€PersistentVolumeClaim å’Œ StorageClass
- **èµ„æºé…é¢**ï¼šæŸ¥çœ‹å’Œç®¡ç† ResourceQuota å’Œ LimitRange

## ç³»ç»Ÿè¦æ±‚

- **Node.js**: >= 14.0.0
- **npm**: >= 6.0.0
- **Kubernetes**: >= 1.18.0
- **kubeconfig**: å·²é…ç½®çš„ Kubernetes é›†ç¾¤è®¿é—®é…ç½®

## å®‰è£…æŒ‡å—

### æ–¹å¼ä¸€ï¼šä»æºç å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/kudig-io/k8s-guardian.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd k8s-guardian

# å®‰è£…ä¾èµ–
npm install

# è®¾ç½® CLI å·¥å…·å¯æ‰§è¡Œæƒé™
chmod +x bin/cli.js
```

### æ–¹å¼äºŒï¼šå…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/kudig-io/k8s-guardian.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd k8s-guardian

# å®‰è£…ä¾èµ–
npm install

# å…¨å±€å®‰è£…
npm link
```

å®‰è£…å®Œæˆåï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ `k8s-guardian` å‘½ä»¤ã€‚

## å¿«é€Ÿå¼€å§‹

### å¯åŠ¨äº¤äº’å¼æ§åˆ¶å°

```bash
# ä½¿ç”¨ npm start å¯åŠ¨
npm start -- --start

# æˆ–ç›´æ¥ä½¿ç”¨ CLI å·¥å…·
./bin/cli.js --start

# å¦‚æœå·²å…¨å±€å®‰è£…
k8s-guardian --start
```

### å¯åŠ¨ Web UI

k8s-guardian æä¾›äº†åŠŸèƒ½ä¸°å¯Œçš„ Web UI ç•Œé¢ï¼Œæ”¯æŒé€šè¿‡æµè§ˆå™¨è®¿é—®å’Œç®¡ç† Kubernetes é›†ç¾¤ã€‚

```bash
# å¯åŠ¨ Web UI æœåŠ¡å™¨
npm start -- --web

# æˆ–ç›´æ¥ä½¿ç”¨ CLI å·¥å…·
./bin/cli.js --web

# å¦‚æœå·²å…¨å±€å®‰è£…
k8s-guardian --web
```

å¯åŠ¨åï¼ŒWeb UI å°†åœ¨ `http://localhost:8080` è¿è¡Œã€‚åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¯¥åœ°å€å³å¯è®¿é—®ã€‚

**Web UI åŠŸèƒ½ç‰¹æ€§ï¼š**

- **ä»ªè¡¨ç›˜**ï¼šå®æ—¶æ˜¾ç¤ºé›†ç¾¤çŠ¶æ€ã€èµ„æºä½¿ç”¨æƒ…å†µå’Œå…³é”®æŒ‡æ ‡
- **èµ„æºç®¡ç†**ï¼šå¯è§†åŒ–ç®¡ç† Podsã€Deploymentsã€Services ç­‰èµ„æº
- **æ—¥å¿—åˆ†æ**ï¼šæŸ¥çœ‹å’Œåˆ†æ Pod æ—¥å¿—ï¼Œæ”¯æŒæ™ºèƒ½åˆ†æåŠŸèƒ½
- **æ€§èƒ½ç›‘æ§**ï¼šå®æ—¶ç›‘æ§ CPUã€å†…å­˜ã€ç½‘ç»œç­‰æ€§èƒ½æŒ‡æ ‡
- **å‘Šè­¦ç®¡ç†**ï¼šåˆ›å»ºå’Œç®¡ç†è‡ªå®šä¹‰å‘Šè­¦è§„åˆ™
- **è‡ªåŠ¨åŒ–è„šæœ¬**ï¼šé…ç½®å’Œæ‰§è¡Œè‡ªåŠ¨åŒ–è¿ç»´è„šæœ¬
- **å¤šç§Ÿæˆ·ç®¡ç†**ï¼šç®¡ç†ç§Ÿæˆ·ã€ç”¨æˆ·å’Œèµ„æºé…é¢
- **å®‰å…¨å®¡è®¡**ï¼šæŸ¥çœ‹å®¡è®¡æ—¥å¿—ã€å®‰å…¨äº‹ä»¶å’Œåˆè§„æŠ¥å‘Š

**ç«¯å£é…ç½®ï¼š**

å¦‚éœ€ä½¿ç”¨è‡ªå®šä¹‰ç«¯å£ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼š

```bash
export WEB_UI_PORT=3000
npm start -- --web
```

### åŸºæœ¬ä½¿ç”¨

å¯åŠ¨åï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªäº¤äº’å¼æ§åˆ¶å°ç•Œé¢ï¼ŒåŒ…å«ä»¥ä¸‹é¢æ¿ï¼š

- **Cluster Information**: æ˜¾ç¤ºé›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯
- **Resource Usage**: æ˜¾ç¤ºé›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µ
- **Pods**: æ˜¾ç¤º Pod åˆ—è¡¨å’ŒçŠ¶æ€
- **Command Input**: å‘½ä»¤è¾“å…¥æ¡†
- **AI**: AI åŠ©æ‰‹æŒ‰é’®

### å‘½ä»¤åˆ—è¡¨

#### åŸºç¡€èµ„æºç®¡ç†
- `nodes` - åˆ—å‡ºæ‰€æœ‰èŠ‚ç‚¹
- `pods [namespace]` - åˆ—å‡ºæŒ‡å®šå‘½åç©ºé—´çš„ Podï¼ˆä¸æŒ‡å®šåˆ™åˆ—å‡ºæ‰€æœ‰å‘½åç©ºé—´ï¼‰
- `deployments [namespace]` - åˆ—å‡ºæŒ‡å®šå‘½åç©ºé—´çš„ Deployment
- `services [namespace]` - åˆ—å‡ºæŒ‡å®šå‘½åç©ºé—´çš„ Service
- `configmaps [namespace]` - åˆ—å‡ºæŒ‡å®šå‘½åç©ºé—´çš„ ConfigMap
- `secrets [namespace]` - åˆ—å‡ºæŒ‡å®šå‘½åç©ºé—´çš„ Secret
- `ingresses [namespace]` - åˆ—å‡ºæŒ‡å®šå‘½åç©ºé—´çš„ Ingress
- `namespaces` - åˆ—å‡ºæ‰€æœ‰å‘½åç©ºé—´

#### å·¥ä½œè´Ÿè½½ç®¡ç†
- `daemonsets [namespace]` - åˆ—å‡º DaemonSet
- `statefulsets [namespace]` - åˆ—å‡º StatefulSet
- `jobs [namespace]` - åˆ—å‡º Job
- `cronjobs [namespace]` - åˆ—å‡º CronJob

#### é›†ç¾¤ç›‘æ§
- `cluster-health` - æ£€æŸ¥é›†ç¾¤å¥åº·çŠ¶æ€
- `resource-usage` - æŸ¥çœ‹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µ
- `events [namespace]` - æŸ¥çœ‹é›†ç¾¤äº‹ä»¶
- `analyze-events [namespace]` - åˆ†æé›†ç¾¤äº‹ä»¶å¹¶ç”Ÿæˆå‘Šè­¦

#### æ—¥å¿—ç®¡ç†
- `logs <pod-name> [namespace] [container] [tail-lines]` - æŸ¥çœ‹ Pod æ—¥å¿—
- `analyze-logs <pod-name> [namespace] [container]` - åˆ†æ Pod æ—¥å¿—

#### èµ„æºé…é¢ä¸é™åˆ¶
- `resource-quotas [namespace]` - æŸ¥çœ‹èµ„æºé…é¢
- `limit-ranges [namespace]` - æŸ¥çœ‹é™åˆ¶èŒƒå›´
- `node-affinity [namespace]` - æŸ¥çœ‹èŠ‚ç‚¹äº²å’Œæ€§é…ç½®
- `analyze-resources [namespace]` - åˆ†æèµ„æºä½¿ç”¨æƒ…å†µ

#### é›†ç¾¤ç®¡ç†
- `clusters` - åˆ—å‡ºæ‰€æœ‰é›†ç¾¤
- `current-cluster` - æ˜¾ç¤ºå½“å‰é›†ç¾¤
- `switch-cluster <cluster-name>` - åˆ‡æ¢é›†ç¾¤

#### RBAC ç®¡ç†
- `roles [namespace]` - åˆ—å‡º Role
- `cluster-roles` - åˆ—å‡º ClusterRole
- `role-bindings [namespace]` - åˆ—å‡º RoleBinding
- `cluster-role-bindings` - åˆ—å‡º ClusterRoleBinding
- `analyze-rbac` - åˆ†æ RBAC é…ç½®

#### å¤‡ä»½ä¸æ¢å¤
- `backup <backup-name>` - å¤‡ä»½é›†ç¾¤é…ç½®
- `restore <backup-file>` - æ¢å¤é›†ç¾¤é…ç½®
- `list-backups` - åˆ—å‡ºæ‰€æœ‰å¤‡ä»½
- `delete-backup <backup-file>` - åˆ é™¤å¤‡ä»½

#### ç½‘ç»œç®¡ç†
- `network-policies [namespace]` - åˆ—å‡º NetworkPolicy
- `ingress-classes` - åˆ—å‡º IngressClass
- `network-analysis [namespace]` - åˆ†æç½‘ç»œé…ç½®
- `network-traffic` - æŸ¥çœ‹ç½‘ç»œæµé‡åˆ†æ

#### å­˜å‚¨ç®¡ç†
- `persistent-volumes` - åˆ—å‡º PersistentVolume
- `persistent-volume-claims [namespace]` - åˆ—å‡º PersistentVolumeClaim
- `storage-classes` - åˆ—å‡º StorageClass
- `storage-analysis [namespace]` - åˆ†æå­˜å‚¨ä½¿ç”¨æƒ…å†µ

#### å…¶ä»–
- `serviceaccounts [namespace]` - åˆ—å‡º ServiceAccount
- `crds` - åˆ—å‡º CustomResourceDefinition
- `help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- `clear` - æ¸…ç©ºæ§åˆ¶å°

#### AI åŠ©æ‰‹
- `ai <query>` - å‘ AI åŠ©æ‰‹æé—®

### ä½¿ç”¨ç¤ºä¾‹

```bash
# æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹
> nodes

# æŸ¥çœ‹é»˜è®¤å‘½åç©ºé—´çš„ Pod
> pods

# æŸ¥çœ‹æŒ‡å®šå‘½åç©ºé—´çš„ Pod
> pods kube-system

# æŸ¥çœ‹ Pod æ—¥å¿—
> logs my-pod default my-container 100

# åˆ†æ Pod æ—¥å¿—
> analyze-logs my-pod default

# æŸ¥çœ‹é›†ç¾¤å¥åº·çŠ¶æ€
> cluster-health

# æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µ
> resource-usage

# åˆ†æé›†ç¾¤äº‹ä»¶
> analyze-events all

# å¤‡ä»½é›†ç¾¤
> backup my-backup

# æ¢å¤é›†ç¾¤
> restore my-backup-2024-01-01T00-00-00-000Z.json

# å‘ AI åŠ©æ‰‹æé—®
> ai å¦‚ä½•è°ƒè¯•ä¸€ä¸ªå´©æºƒçš„ Podï¼Ÿ
```

## é…ç½®è¯´æ˜

### AI åŠŸèƒ½é…ç½®

è¦ä½¿ç”¨ AI åŠ©æ‰‹åŠŸèƒ½ï¼Œéœ€è¦é…ç½® AI API å‡­è¯ï¼š

1. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶
2. æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```env
# AI API é…ç½®
AI_API_KEY=your-api-key-here
AI_API_URL=https://api.openai.com/v1/chat/completions
```

**æ³¨æ„**ï¼šè¯·å‹¿å°† `.env` æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚

### é›†ç¾¤é…ç½®

k8s-guardian ä½¿ç”¨æ ‡å‡†çš„ kubeconfig æ–‡ä»¶è¿æ¥ Kubernetes é›†ç¾¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šè¯»å– `~/.kube/config` æ–‡ä»¶ã€‚

å¦‚éœ€æŒ‡å®šä¸åŒçš„ kubeconfig æ–‡ä»¶ï¼Œå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
export KUBECONFIG=/path/to/your/kubeconfig
```

### å¤šé›†ç¾¤ç®¡ç†

å¦‚æœæ‚¨çš„ kubeconfig ä¸­åŒ…å«å¤šä¸ªé›†ç¾¤ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç®¡ç†ï¼š

```bash
# åˆ—å‡ºæ‰€æœ‰é›†ç¾¤
> clusters

# æŸ¥çœ‹å½“å‰é›†ç¾¤
> current-cluster

# åˆ‡æ¢é›†ç¾¤
> switch-cluster my-cluster
```

## é¡¹ç›®ç»“æ„

```
k8s-guardian/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ cli.js              # å‘½ä»¤è¡Œå…¥å£ç‚¹
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ console.js          # äº¤äº’å¼æ§åˆ¶å°å®ç°
â”‚   â”œâ”€â”€ k8s.js              # Kubernetes å®¢æˆ·ç«¯å’ŒåŸºç¡€æ“ä½œ
â”‚   â”œâ”€â”€ ai.js               # AI åŠ©æ‰‹å®ç°
â”‚   â”œâ”€â”€ commands.js         # å‘½ä»¤å¤„ç†å’Œè·¯ç”±
â”‚   â”œâ”€â”€ health.js           # é›†ç¾¤å¥åº·æ£€æŸ¥
â”‚   â”œâ”€â”€ logs.js             # æ—¥å¿—è·å–å’Œåˆ†æ
â”‚   â”œâ”€â”€ events.js           # äº‹ä»¶ç›‘æ§å’Œåˆ†æ
â”‚   â”œâ”€â”€ resource.js          # èµ„æºé…é¢å’Œé™åˆ¶ç®¡ç†
â”‚   â”œâ”€â”€ cluster.js          # é›†ç¾¤ç®¡ç†
â”‚   â”œâ”€â”€ rbac.js             # RBAC æƒé™ç®¡ç†
â”‚   â”œâ”€â”€ backup.js           # å¤‡ä»½å’Œæ¢å¤
â”‚   â”œâ”€â”€ network.js          # ç½‘ç»œç­–ç•¥åˆ†æ
â”‚   â””â”€â”€ storage.js          # å­˜å‚¨ç®¡ç†
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ .env                    # ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼Œä¸æäº¤ï¼‰
```

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒä¾èµ–

- **@kubernetes/client-node** (^0.20.0) - Kubernetes å®˜æ–¹ JavaScript å®¢æˆ·ç«¯
- **blessed** (^0.1.81) - ç»ˆç«¯ UI åº“
- **blessed-contrib** (^4.11.0) - ç»ˆç«¯ UI ç»„ä»¶åº“
- **chalk** (^4.1.2) - ç»ˆç«¯è¾“å‡ºç€è‰²
- **commander** (^9.5.0) - å‘½ä»¤è¡Œå‚æ•°è§£æ
- **dotenv** (^16.0.3) - ç¯å¢ƒå˜é‡åŠ è½½
- **figlet** (^1.5.2) - ASCII è‰ºæœ¯å­—ç”Ÿæˆ
- **inquirer** (^8.2.4) - äº¤äº’å¼å‘½ä»¤è¡Œæç¤º
- **axios** (^0.27.2) - HTTP å®¢æˆ·ç«¯

### å¼€å‘ä¾èµ–

- **eslint** (^8.19.0) - ä»£ç è§„èŒƒæ£€æŸ¥
- **eslint-config-standard** (^17.0.0) - ESLint æ ‡å‡†é…ç½®
- **eslint-plugin-import** (^2.26.0) - ES6 import/export è¯­æ³•æ£€æŸ¥
- **eslint-plugin-n** (^15.2.4) - Node.js ä»£ç è§„èŒƒ
- **eslint-plugin-promise** (^6.0.0) - Promise è§„èŒƒæ£€æŸ¥

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/kudig-io/k8s-guardian.git
cd k8s-guardian

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æ¨¡å¼ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
npm run dev

# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint
```

### ä»£ç è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ ESLint è¿›è¡Œä»£ç è§„èŒƒæ£€æŸ¥ï¼Œéµå¾ª Standard è§„èŒƒã€‚

```bash
# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint

# è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„é—®é¢˜
npm run lint -- --fix
```

### è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼å¦‚æœæ‚¨æƒ³ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ä¸€ä¸ª Pull Request

### æäº¤è§„èŒƒ

è¯·éµå¾ªè¯­ä¹‰åŒ–æäº¤è§„èŒƒï¼š

- `feat:` æ–°åŠŸèƒ½
- `fix:` ä¿®å¤ bug
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
- `refactor:` é‡æ„ï¼ˆæ—¢ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®å¤ bugï¼‰
- `perf:` æ€§èƒ½ä¼˜åŒ–
- `test:` å¢åŠ æµ‹è¯•
- `chore:` æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è¿æ¥åˆ° Kubernetes é›†ç¾¤ï¼Ÿ

A: k8s-guardian ä½¿ç”¨æ ‡å‡†çš„ kubeconfig æ–‡ä»¶ã€‚ç¡®ä¿æ‚¨çš„ `~/.kube/config` æ–‡ä»¶å·²æ­£ç¡®é…ç½®ï¼Œæˆ–è€…è®¾ç½® `KUBECONFIG` ç¯å¢ƒå˜é‡æŒ‡å‘æ‚¨çš„é…ç½®æ–‡ä»¶ã€‚

### Q: AI åŠŸèƒ½å¦‚ä½•ä½¿ç”¨ï¼Ÿ

A: é¦–å…ˆéœ€è¦åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½® AI API å‡­è¯ï¼Œç„¶ååœ¨æ§åˆ¶å°ä¸­è¾“å…¥ `ai <æ‚¨çš„é—®é¢˜>` å³å¯ä¸ AI åŠ©æ‰‹å¯¹è¯ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹ç‰¹å®šå‘½åç©ºé—´çš„èµ„æºï¼Ÿ

A: å¤§å¤šæ•°å‘½ä»¤éƒ½æ”¯æŒå‘½åç©ºé—´å‚æ•°ï¼Œä¾‹å¦‚ `pods kube-system` æŸ¥çœ‹ kube-system å‘½åç©ºé—´çš„ Podã€‚

### Q: å¤‡ä»½æ–‡ä»¶å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

A: å¤‡ä»½æ–‡ä»¶é»˜è®¤å­˜å‚¨åœ¨ `~/.k8s-guardian/backups/` ç›®å½•ä¸‹ã€‚

### Q: å¦‚ä½•åˆ‡æ¢ä¸åŒçš„ Kubernetes é›†ç¾¤ï¼Ÿ

A: ä½¿ç”¨ `clusters` å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰å¯ç”¨é›†ç¾¤ï¼Œç„¶åä½¿ç”¨ `switch-cluster <cluster-name>` åˆ‡æ¢åˆ°æŒ‡å®šé›†ç¾¤ã€‚

## è·¯çº¿å›¾

### v1.1.0ï¼ˆå·²å®Œæˆï¼‰
- [x] æ·»åŠ  Web UI ç•Œé¢
- [x] æ”¯æŒæ›´å¤š Kubernetes èµ„æºç±»å‹
- [x] å¢å¼ºæ—¥å¿—åˆ†æåŠŸèƒ½
- [x] æ·»åŠ æ€§èƒ½ç›‘æ§å›¾è¡¨

### v1.2.0ï¼ˆå·²å®Œæˆï¼‰
- [x] æ”¯æŒè‡ªå®šä¹‰å‘Šè­¦è§„åˆ™
- [x] æ·»åŠ è‡ªåŠ¨åŒ–è¿ç»´è„šæœ¬
- [x] æ”¯æŒå¤šç§Ÿæˆ·ç®¡ç†
- [x] å¢å¼ºå®‰å…¨å®¡è®¡åŠŸèƒ½

### v1.3.0ï¼ˆè®¡åˆ’ä¸­ï¼‰
- [ ] æ”¯æŒæ›´å¤šåˆè§„æ ‡å‡†ï¼ˆPCI DSSã€HIPAAã€SOC2ï¼‰
- [ ] å¢å¼ºè‡ªåŠ¨åŒ–è„šæœ¬åŠŸèƒ½
- [ ] æ·»åŠ  Kubernetes èµ„æºç”Ÿå‘½å‘¨æœŸç®¡ç†
- [ ] æ”¯æŒè‡ªå®šä¹‰ä»ªè¡¨ç›˜å’ŒæŠ¥è¡¨

### v2.0.0ï¼ˆé•¿æœŸè§„åˆ’ï¼‰
- [ ] åˆ†å¸ƒå¼æ¶æ„æ”¯æŒ
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] æ›´å¤š AI æ™ºèƒ½åŠŸèƒ½
- [ ] ä¼ä¸šçº§åŠŸèƒ½æ”¯æŒ

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸º k8s-guardian åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

ç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [Kubernetes JavaScript Client](https://github.com/kubernetes-client/javascript)
- [blessed](https://github.com/chjj/blessed)
- [blessed-contrib](https://github.com/yaronn/blessed-contrib)

## è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/kudig-io/k8s-guardian
- **é—®é¢˜åé¦ˆ**: https://github.com/kudig-io/k8s-guardian/issues
- **è®¨è®ºåŒº**: https://github.com/kudig-io/k8s-guardian/discussions

## å…è´£å£°æ˜

æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œå¼€å‘ä½¿ç”¨ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å‰ï¼Œè¯·å……åˆ†æµ‹è¯•å¹¶ç¡®ä¿ç¬¦åˆæ‚¨çš„å®‰å…¨å’Œåˆè§„è¦æ±‚ã€‚ä½œè€…ä¸å¯¹ä½¿ç”¨æœ¬å·¥å…·é€ æˆçš„ä»»ä½•æŸå¤±è´Ÿè´£ã€‚
